```bash

# delete todel files 
rm -r docs/todel*

# Get Git user and email
git config user.name
git config user.email

# simple crate
git add src Cargo.toml
git commit -m "build: code source"


git add scripts/
git commit -m "build: add scritps"

# workspace
# git add crates/
# git commit -m "build: set app construtor"

# workspace
# git add Cargo.toml
# git commit -m "build: set app construtor"

#  Cargo.lock README.md

# git add Dockerfile.minimal
# git commit -m "build: add minimal dockerfile for alpine"

git add .gitignore
git commit -m "build: set gitignore files"

git add .editorconfig
git commit -m "build: add editorconfig"

git add .gitattributes
git commit -m "build: add gitattributes"

git add LICENSE*
git commit -m "docs: add LICENSE file"

git add .docker*
git add Dockerfile*
git commit -m "build: add docker file"

git add scripts/*
git commit -m "build: add scripts file"

git add src/*
git add Cargo.toml
git commit -m "build: code source file"

git add .github/workflows/*
git commit -m "build: add github workflow files"

git add src/*
git commit -m "docs: add docs note"

git add README.md
git commit -m "docs: add readme file"

git add README.md
git commit -m "docs: delete unused text"

# 修复 clone 调用
git add src/*
git add Cargo.toml
git commit -m "refactor: fix clone call"



git add rustfmt.toml
git commit -m "build: add code format config"

# 修复循环依赖
git add src/*
git add Cargo.toml
git commit -m "refactor: fix circular dependencies"

git add scripts/*
git commit -m "build: add change log scripts"

git add scripts/*
git commit -m "build: put change log scripts"
# git add passwords.example.md
# git commit -m "docs: add example file"

git add .github/workflows/crate-publish-s.yml
git commit -m "build: add crate publish workflow"

git add .github/workflows/crate-publish-s.yml
git commit -m "build: use window os"

# 修复语法错误

git add .github/workflows/crate-publish-s.yml
git commit -m "build: fix syntax errors"

git add .github/workflows/crate-publish-s.yml
git commit -m "build: put quality report"

git add .github/workflows/crate-publish-s.yml
git commit -m "build: add bash shell in window os"

git add .github/workflows/crate-publish-s.yml
git commit -m "build: publish in window os"


git add Cargo.toml
git commit -m "build: only 5 keywords allowed!"
# expected at most 5 keywords per crate

### 通过格式化
git add src/*
git commit -m "build: format code"

### 通过质量检
git add src/*
git commit -m "build: lint code"
# cargo fmt ;cargo fmt -- --check;cargo clippy -- -D warnings;

git add rustfmt.toml
git commit -m "build: set rustfmt config"

### 通过特性测试
git add src/*
git commit -m "build: test code"
# cargo test --all-features 


git add examples
git commit -m "docs: add examples"


git add src/*
git add Cargo.toml
git commit -m "build: pass code quality in local"


git add src/*
git add Cargo.toml
git commit -m "build: use valid category slugs for crate.io"

git add .github/workflows/crate-publish-s.yml
git add Cargo.toml
git commit -m "build: set release config"


git add scripts/*.md
git commit -m "docs: put scripts docs"

git add src/*
git add Cargo.toml
git commit -m "build: put for docs build"



git add Cargo.toml
git commit -m "build: only 5 keywords allowed!"
# expected at most 5 keywords per crate

git add README.md
git add user-case.why.zh.md
git commit -m "docs: add use case"

git add docs/起名*.md
git commit -m "docs: add name docs"

git add docs/读我*.md
git commit -m "docs: add readme history"

git add docs/托管*.md
git commit -m "docs: add github docs"

git add docs/版本*.md
git commit -m "docs: add git docs"

git add .github/workflows/*.yml
git commit -m "build: use window release"

git add docs/模块*.md
git commit -m "docs: add modules docs"

git add src
git add README*.md
git commit -m "build: spilt main.rs to modules"

git add src
git add README*.md
git commit -m "feat: add windows/get command for information including size and position"

git add src
git add README*.md
git commit -m "feat: add windows/{minimize,maximize,restore} command"

git add .github/workflows/*.yml
git commit -m "build: use window release"

git add src
git add README*.md
git commit -m "perf: extract cli builder helper functions"
# 使用两种方案结合
# git commit --amend -m "perf: use a combination of both approaches"

# 合并main窗口操作处理

git add src
git commit -m "perf: merge main window operations handling"

git add src
git commit -m "perf: use a combination of both approaches"

# 输出系统重构
git add src
git commit -m "perf: output system refactoring"

# 平台抽象改进
git add src
git add Cargo.toml
git commit -m "perf: platform abstraction improvements"


git add docs/合并*.md
git add docs/平台*.md
git add docs/提取*.md
git add docs/*输出*.md
git commit -m "docs: add perf docs"

git add src/cli.rs
git add src/main.rs
git commit -m "feat: support sort for windows/get command"

git add src
git commit -m "build: delete unused code"

git add src
git commit -m "feat: add windows/position/set command"

git add src
git commit -m "refactor: extract sorting module to one file"

git add src
git commit -m "build: comment unused code"

git add src
git commit -m "refactor: extract position_utils module to one file"

git add src
git commit -m "refactor: no circular dependencies"

git add src
git commit -m "refactor: sorting system with unified Sortable trait, SortConfig management, performance optimizations, and backward compatibility"

git add src
git add Cargo.toml
git commit -m "refactor: no circular dependencies"

git add src
git add Cargo.toml
git commit -m "feat: window always-on-top feature in a pluggable way"

# 插拔式添加窗口置顶功能
# plug-and-play window always-on-top feature

# 以易于插拔的方式添加窗口置顶功能
# add window always-on-top feature in a pluggable way

git add src
git add Cargo.toml
git commit -m "feat: window always-on-top feature in a pluggable way"

# 以易于插拔的方式添加窗口透明度功能
# Add window transparency feature in a pluggable way
git add src
git add Cargo.toml
git commit -m "feat: window transparency feature in a pluggable way"

# 使用统一的错误处理
# implement unified error handling
git add src
git add Cargo.toml
git commit -m "refactor: implement unified error handling"

# 使用外部thiserror依赖 重写 error 模块 
git add src
git commit -m "refactor: error module using thiserror crate"

# 改进特性检测和注册
git add src/features
git commit -m "refactor: improve feature detection and registration"

git add src/features
git commit -m "refactor: rename subcommand to windows/always-on-top"

git add Cargo.toml
git commit -m "refactor: error module using thiserror crate"

git add src
git commit -m "feat: add detailed error message"

git add src
git add Cargo.toml
git commit -m "feat: windows/position/set feature in a pluggable way"

git add src
git add Cargo.toml
git commit -m "feat: windows minimize/maximize/restore feature in a pluggable way"

git add src
git add Cargo.toml
git commit -m "feat: windows/get in a pluggable way"

# 让 "windows/transparency" 子命令 支持 --index,--all,--sort-position 参数

git add src
git add Cargo.toml
git commit -m "feat: windows/transparency support index,all,sort-position"

git add src
git add Cargo.toml
git commit -m "feat: windows/always-on-top support index,all,sort-position"

git add src
git add Cargo.toml
git commit -m "feat: windows minimize/maximize/restore support index,all,sort-position"

git add src
git add Cargo.toml
git commit -m "feat: windows/get support index,all,sort-pid,sort-position"

git add src
git add Cargo.toml
git commit -m "feat: windows/resize feature in a pluggable way"

# 对utils模块进行细分
git add src
git add Cargo.toml
git commit -m "refactor: refine the utils module"

git add src
git add Cargo.toml
git commit -m "feat: windows/screenshot feature in a pluggable way"

# 清理 main.rs 中的重复逻辑
# 
git add src
git add Cargo.toml
git commit -m "perf: clean up duplicate logic in main.rs"

# 改进特性注册
git add src
git add Cargo.toml
git commit -m "refactor: improve feature registration with macros"

git add src
git add Cargo.toml
git commit -m "build: extract cli builder helper functions"

# 
git add src
git add Cargo.toml
git commit -m "refactor: use cli builder helper to clean up windows/always-on-top"
# 避免在参数未定义时尝试访问
git add src
git add Cargo.toml
git commit -m "fix: avoid accessing parameters when they are undefined"

# 拆分 windows 模块
git add src
git add Cargo.toml
git commit -m "refactor: split windows module"
# perf,refactor,feat,chore,build

# 移除未使用的引入
git add src
git add Cargo.toml
git commit -m "refactor: remove unused imports"
# perf,refactor,feat,chore,build,fix,docs,style

git add src
git add Cargo.toml
git commit -m "refactor: windows module remove unused imports"

git add src
git add Cargo.toml
git commit -m "refactor: features module remove unused imports"

git add src
git add Cargo.toml
git commit -m "refactor: features module remove unused files"
# sh -c "rm src/features/*todel*"

git add src
git add Cargo.toml
git commit -m "fix: screenshot color issues"

# 修复创建截图色彩问题
# # fix screenshot color issues

# 修复没有标题问题，导致下面区域出现一段透明区域（有标题区域大小）
# fix no title issue, causing a transparent area below the title area (size of the title area)
git add src
git add Cargo.toml
git commit -m "fix: no title issue, causing a transparent area below the title area (size of the title area)"

git add src/platform/windows/enumeration.rs
git commit -m "refactor: clean up duplicate logic"

git add src
git add Cargo.toml
git commit -m "feat: screenshot support include-titlebar"

git add src
git add Cargo.toml
git commit -m "feat: screenshot support include-titlebar"

git add src
git add Cargo.toml
git commit -m "fix: screenshot support include-titlebar"

# 不带标题截图时正常，带标题截图时标题正常，其他区域为黑色（即不带标题截图时正常的区域变为了黑色）

# 似乎修改了不带标题截图时正常的功能。造成现在不带标题截图时多了标题区域和左侧和上侧有些缝隙。
# 不带标题截图时正常，带标题截图时标题和 不带标题截图时正常区域正常，但是在标题和不带标题截图时正常区域之间有一些黑色缝隙。（时位置偏移？）

# 似乎在修复完之后，在非窗口区域的左、右、下有3个像素左右宽度的黑色区域（0002.png所示）。可以修复？

# 不允许无标题窗口
git add src
git add Cargo.toml
git commit -m "refactor: no title-less windows allowed"


git add scripts
git commit -m "build: add scripts"

git add README.md
git add README.zh.md
git commit -m "docs: add readme"

git add scripts
git commit -m "build: add scripts"

git add Cargo.toml
git commit -m "build: put cargo.toml"

git add .github
git commit -m "build: add workflow"


git add Dockerfile
git commit -m "build: use workdir and healthy-check"

git add Dockerfile.alpine
git commit -m "fix: copy binary file from host machine"

git add Dockerfile*
git commit -m "build: use workdir and healthy-check"

git add docs/镜像管理*
git commit -m "docs: add image management docs"

git add README*.md
git commit -m "docs: put usage"

git add docs/镜像管理*
git commit -m "docs: put image management docs"

git add Dockerfile*
git commit -m "perf: delete unused stage"

git add README*.md
git commit -m "docs: put docker image size"

git add .github/workflows/docker-publish.yml
git commit -m "build: publish to docker hub simple"

git add .github/workflows/docker-publish.yml
git commit -m "build: support debug"

git add .github/workflows/docker-publish.yml
git commit -m "build: add latest tag"

git add .github/workflows/docker-publish.yml
git commit -m "build: set output for debug"

git add .github/workflows/cleanup.yml
git commit -m "build: clean old workflows"


git add .github/workflows/ghcr-publish.yml
git commit -m "build: support ghcr publish"


# gh workflow run docker-publish.yml -f debug_mode=true
# gh run list --workflow=docker-publish.yml
# gh workflow run docker-publish.yml

# gh workflow run ghcr-publish.yml -f debug_mode=true


# gh workflow run window-release.yml -f debug_mode=true
# gh run list --workflow=window-release.yml


#  and switch step for scratch

# put version in Cargo.toml
git add src Cargo.toml
git commit -m "feat: beautify console log"


git add .github/workflows/ghcr-publish.yml
git commit -m "build: tolower github.repository"

git add .github/workflows/ghcr-publish.yml
git commit -m "build: fixed binary file path"

git add .github/workflows/ghcr-publish.yml
git commit -m "build: add debug mode"

git add .github/workflows/docker-publish.yml
git commit -m "build: use github.event.repository.name"

git add .github/workflows/docker-publish.yml
git commit -m "build: make sure debug_mode always has a value"


git add src/main.rs
git commit -m "feat: use --config to specify config file in cli arg"

git add .env.example
git commit -m "build: use config or env for example"

git add src/main.rs
git commit -m "fix: load config from env var ENV_FILE"

git add src/main.rs
git commit -m "feat: use --show-config to show config and exit"

git add src Cargo.toml
git commit -m "feat: use --show-config to show config and exit"

git add ./scripts/*.sh
git commit -m "build: put scripts"

git add Dockerfile.scratch.glibc*
git add Dockerfile.window.gnu*
git commit -m "build: add linux glibc and windows gnu"

git add .github/workflows/window-release.yml
git commit -m "build: add window msvc and gnu release workflow"

git add .github/workflows/next-release.yml
git commit -m "build: add window-msvc,window-gnu,x86_64-unknown-linux-musl release workflow"


git add .github/workflows/*.yml
git commit -m "build: use next-release on version push"

git add .github/workflows/*.yml
git commit -m "build: fix create release"

git add .github/workflows/clean-old-runs-h.yml
git commit -m "build: cleanup old workflow runs with hour unit"

git add .github/workflows/clean-old-runs-h.yml
git commit -m "build: cleanup old workflow runs with hour unit"

git add .github/workflows/clean-old-runs-h.yml
git commit -m "build: use dry_run option"

git add .github/workflows/clean-old-runs-h.yml
git commit -m "build: debug workflow"

git add .github/workflows/clean-old-runs-h.yml
git add .github/workflows/clean-old-runs-d.yml
git add .github/workflows/*.yml
git commit -m "build: use clean-old Daily on schedule"
git commit -m "build: use clean-old Hourly on dispatch"

git add .github/workflows/ghcr-clean-old.yml
git commit -m "build: cleanup old container images"

git add .editorconfig
git commit -m "build: put worflow indent_size"

git add src/main.rs
git commit -m "perf: delete unused code"

git add Cargo.toml
git commit -m "perf: delete unused code"

git add .github/workflows/next-release.yml
git commit -m "build: debug next release"


# git push ghg

# gh workflow run next-release.yml -f debug_mode=true
# gh run list --workflow=next-release.yml
# gh run view 18672146462 --log-failed

# gh workflow run clean-old-runs-h.yml
# gh run list --workflow=clean-old-runs-h.yml

# gh workflow run crate-publish-s.yml -f dry_run=true
# gh run list --workflow=crate-publish-s.yml


$ver="0.1.0";

$ver="0.2.0";

$ver="0.3.0";

$ver="0.4.0";

$ver="0.4.1";

git tag -d v$ver;git push ghg :refs/tags/v$ver;

git tag v$ver;git push ghg;git push ghg --tags;


# cargo yank --vers $ver

```

## 发布之前检查 | crate lib
```powershell
cargo fmt;cargo fmt -- --check

cargo clippy -- -D warnings
cargo clippy --all-features -- -D warnings

cargo test --all-features

cargo doc --no-deps --all-features

cargo package --allow-dirty
cargo publish --dry-run --registry crates-io --allow-dirty

# git push ghg main
# gh workflow run crate-publish-s.yml -f dry_run=true
# gh run list --workflow=crate-publish-s.yml


# gh workflow run clean-old-runs-d.yml -f days_old=0 -f keep_minimum=1
# gh run list --workflow=clean-old-runs-d.yml

# sh -c "gh api repos/YMC-GitHub/window-enumerator/deployments | jq '.[].id'"
```